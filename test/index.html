<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../dist/markdown.css">
    <style>
        main{display:flex;margin:0}
        main .catalog{width:250px;}
        main .editor,main .stage{flex:1;}
        main>div,main code{width:100%;padding:10px;box-sizing:border-box;outline:none}
        .editor{border-right:solid 2px #eee;background-color:#f5f5f5}
    </style>
</head>
<body>
    <div class="menu">
        <button id="code">代码片段</button>
        <button id="img">图片</button>
        <button id="ol">有序列表</button>
        <button id="ul">无序列表</button>
        <button id="link">超链接</button>
        <button id="hr">分割线</button>
        <button id="h1">一级标题</button>
        <button id="h2">二级标题</button>
        <button id="cite">标记</button>
        <button id="bold">加粗</button>
        <button id="italics">斜体</button>
        <button id="del">删除线</button>
        <button id="undo">撤销</button>
        <button id="redo">恢复</button>
    </div>
    <main>
        <div class="editor"></div>
        <div class="stage"></div>
        <!-- <div class="catalog"></div> -->
    </main>
    <script src="../dist/markdown.js"></script>
    <script>
        
        const md = new Markdown({
            editor:'.editor',
            stage:'.stage',
            catalog:'.catalog'
        })
        
        const exmple = decodeURIComponent("%3E%20%E8%BF%99%E6%98%AF%E5%BC%95%E7%94%A8%E5%86%85%E5%AE%B9%0A##%20h2%E6%A0%87%E9%A2%98%0A###%20h3%E6%A0%87%E9%A2%98%0A%E8%BF%99%E6%98%AF%60%E6%A0%87%E8%AE%B0%60%E5%86%85%E5%AE%B9%0A%E8%BF%99%E6%98%AF**%E7%B2%97%E4%BD%93**%E5%86%85%E5%AE%B9%0A%E8%BF%99%E6%98%AF*%E6%96%9C%E4%BD%93*%E5%86%85%E5%AE%B9%0A%E8%BF%99%E6%98%AF%E5%88%A0%E9%99%A4%E7%BA%BF%EF%BC%8C~~%E6%B5%8B%E8%AF%95%E6%96%87%E5%AD%97~~%0A%5B%E8%BF%99%E6%98%AF%E8%B6%85%E9%93%BE%E6%8E%A5%5D(http://www.6pian.cn)%0A%E4%B8%8B%E6%96%B9%E6%98%AF%E5%88%86%E5%89%B2%E7%BA%BF%0A***%0A-%20%E6%97%A0%E5%BA%8F%E5%88%97%E8%A1%A81%0A-%20%E6%97%A0%E5%BA%8F%E5%88%97%E8%A1%A82%0A-%20%E6%97%A0%E5%BA%8F%E5%88%97%E8%A1%A83%0A1.%20%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A81%0A2.%20%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A82%0A3.%20%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A83%0A%0A%E4%B8%8B%E6%96%B9%E5%9B%BE%E7%89%87%0A!%5Bimag(e.png%5D(https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5bc85dc7a9fc4624bbc484f889d3040c~tplv-k3u1fbpfcp-watermark.image?)%0A%0A%60%60%60json%0A%7B%0A%20%20%22name%22:%20%22markdown%22,%0A%20%20%22version%22:%20%221.0.0%22,%0A%20%20%22description%22:%20%22%E5%A4%84%E7%90%86%E5%89%8D%E7%AB%AF%E6%96%87%E7%AB%A0%E7%9A%84markdown%22,%0A%20%20%22main%22:%20%22index.js%22,%0A%20%20%22scripts%22:%20%7B%0A%20%20%20%20%22test%22:%20%22echo%20%5C%22Error:%20no%20test%20specified%5C%22%20&&%20exit%201%22,%0A%20%20%20%20%22build%22:%20%22webpack%20--config%20webpack.config.js%20--mode%20production%20%22,%0A%20%20%20%20%22watch%22:%20%22webpack%20--watch%20--config%20webpack.config.js%20--mode%20production%20%22%0A%20%20%7D%0A%7D%0A%60%60%60%0A%60%60%60html%0A%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv=%22X-UA-Compatible%22%20content=%22IE=edge%22%3E%0A%20%20%20%20%3Cmeta%20name=%22viewport%22%20content=%22width=device-width,%20initial-scale=1.0%22%3E%0A%20%20%20%20%3Ctitle%3EDocument%3C/title%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22../dist/markdown.css%22%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20body%7Bdisplay:flex;%7D%0A%20%20%20%20%20%20%20%20body%3Ediv%7Bwidth:100%25%7D%0A%20%20%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class=%22editor%22%3E%3C/div%3E%0A%20%20%20%20%3Cdiv%20class=%22content%22%3E%3C/div%3E%0A%20%20%20%20%3Cscript%20src=%22../dist/markdown.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20const%20md%20=%20new%20Markdown('.editor')%0A%20%20%20%20%20%20%20%20md.onAnalysed(function(html)%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelector('.content').innerHTML%20=%20html%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A%60%60%60")
        md.setExmple(exmple)

        document.getElementById('undo').onclick = ()=>md.undo()
        document.getElementById('redo').onclick = ()=>md.redo()
        document.getElementById('del').onclick = ()=>md.dispatch('del')
        document.getElementById('italics').onclick = ()=>md.dispatch('itsalics')
        document.getElementById('bold').onclick = ()=>md.dispatch('bold')
        document.getElementById('cite').onclick = ()=>md.dispatch('cite')
        document.getElementById('h1').onclick = ()=>md.dispatch('h1')
        document.getElementById('h2').onclick = ()=>md.dispatch('h2')
        document.getElementById('hr').onclick = ()=>md.dispatch('hr')
        document.getElementById('link').onclick = ()=>md.dispatch('link')
        document.getElementById('ul').onclick = ()=>md.dispatch('ul')
        document.getElementById('ol').onclick = ()=>md.dispatch('ol')
        document.getElementById('img').onclick = ()=>md.dispatch('img')
        document.getElementById('code').onclick = ()=>md.dispatch('code')
        
    </script>
</body>
</html>